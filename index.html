<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rose Day for Anshika üåπ</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&family=Lora:ital@1&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <style>
        :root {
            --primary-red: #d00000;
            --rose-pink: #ff85a1;
            --cream-white: #fffaff;
            --deep-maroon: #2d0a0a;
            --soft-glow: rgba(255, 133, 161, 0.4);
        }

        body {
            margin: 0; padding: 0; background-color: #fff0f3;
            font-family: 'Poppins', sans-serif; color: #333;
            overflow-x: hidden; scroll-behavior: smooth;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- Auth Overlay Style --- */
        #auth-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff0f3; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; transition: 0.8s;
        }
        .auth-card {
            background: white; padding: 40px 30px; border-radius: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1); width: 85%; max-width: 400px;
        }
        .auth-card h2 { font-family: 'Dancing Script'; color: var(--primary-red); font-size: 2rem; margin-bottom: 20px; }
        .auth-card input {
            width: 100%; padding: 12px; border: 2px solid #ffcad4; border-radius: 10px;
            outline: none; font-size: 1rem; text-align: center; margin-bottom: 20px;
            box-sizing: border-box;
        }
        .auth-card button {
            background: var(--primary-red); color: white; border: none;
            padding: 12px 30px; border-radius: 50px; cursor: pointer; font-weight: 600;
            transition: 0.3s;
        }
        .auth-card button:active { transform: scale(0.95); }

        /* --- Album Style --- */
        .photo-album {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px; margin: 40px 0; padding: 20px;
            background: rgba(255, 255, 255, 0.5); border-radius: 20px;
        }
        .album-img {
            width: 100%; border-radius: 15px; border: 4px solid white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); transition: 0.3s;
        }
        .album-img:hover { transform: scale(1.05); }

        /* --- Existing Animations --- */
        .shake-element { animation: shake-animation 0.6s ease-in-out infinite !important; }
        @keyframes shake-animation {
            0%, 100% { transform: rotate(0deg) scale(1.2); }
            25% { transform: rotate(15deg) scale(1.3); }
            75% { transform: rotate(-15deg) scale(1.3); }
        }
        .magic-element { position: fixed; top: -10%; z-index: 1000; pointer-events: none; animation: fall linear forwards; }
        @keyframes fall {
            0% { transform: translateY(-50px) rotate(0deg); opacity: 0; }
            15% { opacity: 1; }
            100% { transform: translateY(110vh) rotate(450deg); opacity: 0; }
        }

        .hero { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; background: radial-gradient(circle at center, rgba(255,240,243,0.94) 0%, rgba(255,182,193,0.6) 100%); padding: 20px; box-sizing: border-box; }
        .hero h1 { font-family: 'Dancing Script', cursive; font-size: clamp(3.2rem, 14vw, 8rem); color: var(--primary-red); margin: 0; }
        .hero-subtitle { font-family: 'Lora'; font-style: italic; font-size: clamp(1rem, 4.5vw, 1.5rem); color: #555; }
        
        #wish-text { font-family: 'Dancing Script'; font-size: 2.5rem; color: var(--primary-red); margin-top: 25px; opacity: 0; transition: 1s; }
        .letter-content { width: 92%; max-width: 850px; margin: -50px auto 50px auto; background: white; padding: 50px 30px; border-radius: 45px; box-shadow: 0 40px 80px rgba(0,0,0,0.1); display: none; position: relative; z-index: 20; }
        .story-para { font-family: 'Lora'; font-size: 1.15rem; line-height: 1.8; text-align: justify; margin-bottom: 25px; }
        .shayari-box { background: #fff5f6; padding: 25px; border-radius: 20px; font-style: italic; text-align: center; margin: 30px 0; border: 1px solid #ffcad4; }
        footer { text-align: center; padding: 40px; background: var(--deep-maroon); color: #888; font-size: 0.8rem; }
    </style>
</head>
<body>

    <div id="auth-overlay">
        <div class="auth-card">
            <h2>Anshiku, Pehle ye batao...</h2>
            <p style="color:#777; font-size: 0.9rem; margin-bottom: 15px;">What is your date of birth?</p>
            <input type="text" id="dobInput" placeholder="Ex: 25 Jun 2006">
            <button onclick="checkDOB()">Enter My World ‚ú®</button>
            <p id="errorMsg" style="color: var(--primary-red); font-size: 0.8rem; margin-top: 10px; display: none;">Opps! Ye tumhari bday nahi hai ü•∫</p>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="https://www.pagalworld.com.sb/files/download/id/2533" type="audio/mpeg">
    </audio>

    <div id="main-content" style="opacity: 0; transition: 1s;">
        <section class="hero">
            <div style="letter-spacing: 4px; font-weight: 700; color: var(--deep-maroon); margin-bottom: 8px; font-size: 0.85rem;">FEBRUARY 7, 2026</div>
            <h1>Anshika</h1>
            <p class="hero-subtitle">11 Years of This Silent, Beautiful Bond.</p>
            
            <div class="rose-container" style="margin-top: 40px;">
                <div class="rose-trigger" id="roseBtn" onclick="handleInteraction()" style="font-size: 80px; cursor: pointer;">üåπ</div>
                <div id="tapHint" style="font-size: 0.8rem; color: var(--primary-red); font-weight: 600; margin-top: 10px; animation: blink 2s infinite;">TAP OR SHAKE THE ROSE</div>
            </div>
            <div id="wish-text">Happy Rose Day, Anshiku! üåπ</div>
        </section>

        <div class="letter-content" id="letter">
            <h2 style="text-align:center; font-family:'Dancing Script'; color:var(--primary-red); font-size: 3rem; margin-bottom:30px;">Ehsaas ke Panne...</h2>
            
            <div class="photo-album">
                <img src="anshika/WhatsApp Image 2026-02-06 at 18.03.09.jpeg" class="album-img" alt="Memory 1">
                <img src="anshika/WhatsApp Image 2026-02-06 at 18.03.08.jpeg" class="album-img" alt="Memory 2">
                <img src="anshika/WhatsApp Image 2026-02-06 at 18.03.08 (1).jpeg" class="album-img" alt="Memory 3">
            </div>

            <p class="story-para">Anshika, Pata nahi tum ise kaise logi, par kaafi waqt se mere dimaag mein ek baat chal rahi thi jo mujhe tumse kehni thi...</p>
            
            <div class="shayari-box">
                "‡§∂‡§æ‡§Ø‡§¶ ‡§´‡§ø‡§∞ ‡§µ‡•ã ‡§§‡§ï‡§º‡§¶‡•Ä‡§∞ ‡§Æ‡§ø‡§≤ ‡§ú‡§æ‡§Ø‡•á,<br>‡§ú‡•Ä‡§µ‡§® ‡§ï‡•á ‡§µ‡•ã ‡§π‡§∏‡•Ä‡§Ç ‡§™‡§≤ ‡§Æ‡§ø‡§≤ ‡§ú‡§æ‡§Ø‡•á‡•§"
            </div>

            <p class="story-para">Aaj hum B.Sc final year mein aa gaye hain... lagbhag 8-9 saal beet chuke hain. Ek pal ke liye bhi main tumhe dimaag se nikal nahi paya.</p>

            <div class="shayari-box">
                "‡§§‡•Ç ‡§Æ‡§ø‡§≤‡•á ‡§Ø‡§æ ‡§®‡§æ ‡§Æ‡§ø‡§≤‡•á ‡§Ø‡•á ‡§Æ‡•á‡§∞‡•á ‡§Æ‡•Å‡§ï‡§¶‡•ç‡§¶‡§∞ ‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§π‡•à,<br>‡§∏‡•Å‡§ï‡•Ç‡§® ‡§¨‡§π‡•Å‡§§ ‡§Æ‡§ø‡§≤‡§§‡§æ ‡§π‡•à ‡§§‡•Å‡§ù‡•á ‡§Ö‡§™‡§®‡§æ ‡§∏‡•ã‡§ö‡§ï‡§∞‡•§"
            </div>

            <div style="text-align: center; margin-top: 50px;">
                <span style="font-size: 3rem;">ü´Ç</span>
                <p style="font-family: 'Dancing Script'; font-size: 2.5rem; color: var(--primary-red);">I miss you so much Anshiku ‚ù§Ô∏è</p>
            </div>

            <div style="background: #fff9fa; padding: 25px; border-radius: 30px; margin-top: 40px; border: 2px dashed var(--rose-pink);">
                <h3 style="font-family:'Dancing Script'; text-align: center; color: var(--primary-red);">Dil ki Diary...</h3>
                <textarea id="anshikaMessage" style="width:100%; height:150px; border-radius: 15px; border: 1px solid #ffcad4; padding: 15px; outline: none;" placeholder="Apne jazbaat likho..." oninput="optimizedTrack(event)"></textarea>
            </div>
        </div>
        <footer>EST. 2015 ‚Äî ALWAYS PROTECTED ‚ù§Ô∏è</footer>
    </div>

    <script>
        // --- DOB Check Logic ---
        function checkDOB() {
            const input = document.getElementById('dobInput').value.toLowerCase().trim();
            const correctDOB = "25 jun 2006";
            
            if(input === correctDOB) {
                document.getElementById('auth-overlay').style.opacity = "0";
                setTimeout(() => {
                    document.getElementById('auth-overlay').style.display = "none";
                    document.getElementById('main-content').style.opacity = "1";
                    initShakeDetection(); // Start shake only after login
                }, 800);
            } else {
                const error = document.getElementById('errorMsg');
                error.style.display = "block";
                setTimeout(() => error.style.display = "none", 3000);
            }
        }

        // --- Rest of your original Magic Logic ---
        const audio = document.getElementById('bgMusic');
        let audioStarted = false;
        let isRevealed = false;

        function handleInteraction() {
            if(!audioStarted) { audio.play(); audioStarted = true; }
            revealMystery();
        }

        function revealMystery() {
            if(isRevealed) return;
            isRevealed = true;
            document.getElementById('wish-text').style.opacity = "1";
            document.getElementById('roseBtn').style.transform = "scale(1.2) rotate(15deg)";
            setTimeout(() => {
                document.getElementById('letter').style.display = 'block';
                window.scrollTo({ top: document.getElementById('letter').offsetTop - 30, behavior: 'smooth' });
            }, 1000);
        }

        function initShakeDetection() {
            let lastX, lastY, lastZ;
            window.addEventListener('devicemotion', (e) => {
                let acc = e.accelerationIncludingGravity;
                if(!acc.x) return;
                let diff = Math.abs(lastX - acc.x) + Math.abs(lastY - acc.y);
                if(diff > 20) {
                    document.getElementById('roseBtn').classList.add('shake-element');
                    if(!audioStarted) { audio.play(); audioStarted = true; }
                    revealMystery();
                    setTimeout(() => document.getElementById('roseBtn').classList.remove('shake-element'), 1000);
                }
                lastX = acc.x; lastY = acc.y; lastZ = acc.z;
            });
        }

        setInterval(() => {
            const el = document.createElement('div');
            el.className = 'magic-element';
            el.innerHTML = ['ü¶ã','üåπ','üíñ','‚ú®'][Math.floor(Math.random()*4)];
            el.style.left = Math.random() * 100 + 'vw';
            el.style.fontSize = (Math.random()*20 + 15) + 'px';
            const d = Math.random()*3+4;
            el.style.animationDuration = d+'s';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), d*1000);
        }, 300);

        // Firebase Sync (Old logic kept as is)
        function optimizedTrack(e) { /* Your existing Firebase code */ }
    </script>
</body>
</html>
